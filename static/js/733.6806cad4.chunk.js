"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[733],{17:function(t,e,r){r.d(e,{Pg:function(){return f},gI:function(){return l},Xj:function(){return p},Nr:function(){return i},Xk:function(){return s}});var n=r(861),a=r(757),u=r.n(a),o=r(340),c="0dcb234fd8e808b26c651715f937b217";o.Z.defaults.baseURL="https://api.themoviedb.org/3/",o.Z.defaults.headers.common.Authorization="Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwZGNiMjM0ZmQ4ZTgwOGIyNmM2NTE3MTVmOTM3YjIxNyIsInN1YiI6IjY1ZGRkZmU0OWFlNjEzMDE4Njc1NmQxMCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.n-_bQwkK_NDEzBTsUydX25xzjNKUpXobhWw98wo5CCk",o.Z.defaults.headers.common.accept="application/json";var s=function(){var t=(0,n.Z)(u().mark((function t(){var e,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.get("trending/movie/day?api_key=".concat(c));case 2:return e=t.sent,r=e.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){var t=(0,n.Z)(u().mark((function t(e){var r,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.get("search/movie?query=".concat(e,"&api_key=").concat(c));case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,n.Z)(u().mark((function t(e){var r,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.get("movie/".concat(e,"?api_key=").concat(c));case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,n.Z)(u().mark((function t(e){var r,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.get("movie/".concat(e,"/credits?api_key=").concat(c));case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=(0,n.Z)(u().mark((function t(e){var r,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.get("movie/".concat(e,"/reviews?api_key=").concat(c));case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},77:function(t,e,r){r.d(e,{Z:function(){return c}});var n=r(87),a=r(510),u=r(184);var o=function(t){var e=t.movie,r=t.to,o=t.from,c=e.poster_path?"https://image.tmdb.org/t/p/w500".concat(e.poster_path):a;return(0,u.jsx)("li",{className:"movie-list-item",children:(0,u.jsxs)(n.rU,{to:r,state:{from:o},children:[(0,u.jsx)("img",{src:c,alt:e.title}),(0,u.jsx)("p",{className:"movie-title",children:e.title}),(0,u.jsxs)("p",{className:"release-date",children:[" Release: ",e.release_date]})]})},e.id)};var c=function(t){var e=t.movies,r=t.to,n=t.from;return(0,u.jsx)("ul",{className:"movie-list",children:e.map((function(t){return(0,u.jsx)(o,{to:"".concat(r,"/").concat(t.id),from:n,movie:t},t.id)}))})}},733:function(t,e,r){r.r(e),r.d(e,{default:function(){return d}});var n=r(861),a=r(439),u=r(757),o=r.n(u),c=r(77),s=r(791),i=r(603),f=r(87),l=r(184);var p=function(t){var e=t.onSubmit,r=(0,s.useState)(""),n=(0,a.Z)(r,2),u=n[0],o=n[1],c=(0,f.lr)(),p=(0,a.Z)(c,1)[0];return(0,s.useEffect)((function(){var t=p.get("query");t&&o(t)}),[p]),(0,l.jsxs)("form",{className:"search-form",onSubmit:function(t){t.preventDefault(),u&&e(u)},children:[(0,l.jsx)("input",{type:"text",value:u,placeholder:"Movie title",onChange:function(t){return o(t.target.value)}}),(0,l.jsx)("button",{className:"search-btn",children:(0,l.jsx)(i.w75,{})})]})};var m=function(t){var e,r,n=t.moviesData,a=t.onSubmit,u=t.query;return console.log("moviesData",n),console.log("moviesData?.rezults?.length",null===n||void 0===n||null===(e=n.rezults)||void 0===e?void 0:e.length),(0,l.jsxs)("main",{children:[(0,l.jsx)(p,{onSubmit:a}),n&&(0,l.jsx)(c.Z,{movies:n.results,to:"/movies",from:"/movies?query=".concat(u)}),0===(null===n||void 0===n||null===(r=n.results)||void 0===r?void 0:r.length)&&(0,l.jsx)("p",{children:"Sorry. No results were found for your request. Try another request."})]})},v=r(17);var d=function(){var t=(0,f.lr)(),e=(0,a.Z)(t,2),r=e[0],u=e[1],c=(0,s.useState)(null),i=(0,a.Z)(c,2),p=i[0],d=i[1],h=r.get("query");return(0,s.useEffect)((function(){function t(){return(t=(0,n.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=d,t.next=3,(0,v.Nr)(h);case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}h&&function(){t.apply(this,arguments)}()}),[h]),(0,l.jsx)(m,{query:h,moviesData:p,onSubmit:function(t){return u({query:t})}})}},510:function(t,e,r){t.exports=r.p+"static/media/NoImage.e1ce751ef1b590f719f9.jpg"}}]);
//# sourceMappingURL=733.6806cad4.chunk.js.map